import{h as g,U as y,$ as x,r as i,F as w,c as l,a as e,V as v,O as h,W as p,X as f,z as a,t as _,o as n,x as k,Z as S}from"./CNC7-B4v.js";const V={class:"min-h-screen flex items-center justify-center bg-black"},z={class:"w-full max-w-md p-8 space-y-8 bg-black rounded-lg shadow-md"},A={class:"rounded-md shadow-sm space-y-4"},B={key:0,class:"text-red-500 text-sm"},E={class:"text-center"},M=["disabled"],N={key:0},P={key:1},q={__name:"register",setup(T){const{$api:u}=g(),c=y();x();const o=i({email:"",password:""}),t=i(""),r=i(!1),b=async()=>{t.value="",r.value=!0;try{await c.login(o.value,u),await k(),await S("/admin/dashboard",{replace:!0})}catch(m){t.value=m.data?.message||"Login failed. Please try again."}finally{r.value=!1}};return w(()=>{c.initialize(u)}),(m,s)=>(n(),l("div",V,[e("div",z,[s[4]||(s[4]=e("div",{class:"text-center"},[e("h2",{class:"text-3xl font-extrabold text-gray-900"},"Admin Register")],-1)),e("form",{class:"mt-8 space-y-6",onSubmit:v(b,["prevent"])},[e("div",A,[e("div",null,[s[2]||(s[2]=e("label",{for:"email",class:"sr-only"},"Email address",-1)),p(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=d=>a(o).email=d),name:"email",type:"email",autocomplete:"email",required:"",class:"form-control appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[f,a(o).email]])]),e("div",null,[s[3]||(s[3]=e("label",{for:"password",class:"sr-only"},"Password",-1)),p(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=d=>a(o).password=d),name:"password",type:"password",autocomplete:"current-password",required:"",class:"form-control appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[f,a(o).password]])])]),a(t)?(n(),l("div",B,_(a(t)),1)):h("",!0),e("div",E,[e("button",{type:"submit",class:"text-center inline-block px-8 py-4 bg-gradient-to-r from-red-500 to-red-900 text-white font-bold rounded-full text-lg hover:from-red-700 hover:to-red-900 transition-all duration-300 transform hover:-translate-y-1 shadow-lg shadow-red-900/30",disabled:a(r)},[a(r)?(n(),l("span",P,"Signing in...")):(n(),l("span",N,"Sign in"))],8,M)])],32)])]))}};export{q as default};
